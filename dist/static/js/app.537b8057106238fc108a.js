webpackJsonp([1],{3:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r.n(n),s=r(2),a=r(1),i=r.n(a);i.a.init({appId:"Q4WGVG68HbiX048NdD9qar4U-gzGzoHsz",appKey:"6jpGvljeRsAd47OEelVuNpJ3"});new s.a({el:"#app",data:{actionType:"signUp",newTodo:"",todoList:[],currentUser:null,formData:{username:"",password:""}},created:function(){var t=this;window.onbeforeunload=function(){var e=o()(t.todoList);window.localStorage.setItem("myTodos",e)};var e=window.localStorage.getItem("myTodos"),r=JSON.parse(e);this.todoList=r||[],this.currentUser=this.getCurrentUser()},methods:{addTodo:function(){this.todoList.push({title:this.newTodo,createdAt:new Date,done:!1}),this.newTodo=""},removeTodo:function(t){var e=this.todoList.indexOf(t);this.todoList.splice(e,1)},signUp:function(){var t=this,e=new i.a.User;e.setUsername(this.formData.username),e.setPassword(this.formData.password),e.signUp().then(function(e){t.currentUser=t.getCurrentUser()},function(t){alert("注册失败")})},login:function(){var t=this;i.a.User.logIn(this.formData.username,this.formData.password).then(function(e){t.currentUser=t.getCurrentUser()},function(t){alert("登录失败")})},getCurrentUser:function(){var t=i.a.User.current();if(t){var e=t.id,r=t.createdAt;return{id:e,username:t.attributes.username,createdAt:r}}return null},logout:function(){i.a.User.logOut(),this.currentUser=null,window.location.reload()}}})}},[3]);
//# sourceMappingURL=app.537b8057106238fc108a.js.map